using UnityEngine;

//전략 쓰자, 메이는 메이대로 듀란달은 듀란달대로 전략 써야될듯 ㅅㅂ ㅡㅡ

public class AnimPlay : MonoBehaviour
{
    public GameObject atkEffect;
    public GameObject skillEffect;
    public GameObject ultimateEffect;
    public GameObject hitEffect;
    public GameObject ultimateWaitEffect;

    public GameObject BladeHitPos;

    int countatk = 0;

    void Skill() //메이 전용 값임
    {
        GameObject skilleffect = Instantiate(skillEffect, BladeHitPos.transform.position, skillEffect.transform.rotation);

        int count = 1;

        // 회전 각도를 설정할 때, Y축을 중심으로 회전하도록 설정
        //float rotationAngle = count * 45f; // 예시: 45도 간격으로 회전
        Quaternion rotation = Quaternion.Euler(180f, 180f, 45f);

        if (count == 1)
        {
            rotation = Quaternion.Euler(180f, 180f, 45f);

            // 스킬 이펙트에 회전 적용
            skillEffect.transform.rotation = rotation;
            count += 1;
        }
        if(count ==2)
        {
            // 회전 각도를 설정할 때, Y축을 중심으로 회전하도록 설정
             //rotationAngle = count * 45f; // 예시: 45도 간격으로 회전
             rotation = Quaternion.Euler(0f  , 0f, 45f);

            // 스킬 이펙트에 회전 적용
            skillEffect.transform.rotation = rotation;
        }else if(count ==3)
        {
            // 회전 각도를 설정할 때, Y축을 중심으로 회전하도록 설정
           // rotationAngle = count * 45f; // 예시: 45도 간격으로 회전
            rotation = Quaternion.Euler(180f, 180f, 45f);

            // 스킬 이펙트에 회전 적용
            skillEffect.transform.rotation = rotation;

            count = 1;
        }

        Destroy(skilleffect, 3f);
    }


    void Atk() //일단 메이 전용 값으로 바꿀거임.
    {
     


        
        // 회전 각도를 설정할 때, Y축을 중심으로 회전하도록 설정
        //float rotationAngle = count * 45f; // 예시: 45도 간격으로 회전
        Quaternion rotation = Quaternion.Euler(0f, 0f, 0f);
        if(countatk == 0)
        {
            rotation = Quaternion.Euler(0f, 0f,  45f);

            // 스킬 이펙트에 회전 적용
            atkEffect.transform.rotation = rotation;
            countatk = 1;
        }
        else
        {

            rotation = Quaternion.Euler(0f, 0f, -135f);

            // 스킬 이펙트에 회전 적용
            atkEffect.transform.rotation = rotation;
            countatk = 0;
        }

        GameObject atkeffect = Instantiate(atkEffect, BladeHitPos.transform.position, atkEffect.transform.rotation);

        Destroy(atkeffect, 3f);
    }

    public void Ultimate()
    {
        GameObject ultimateeffect = Instantiate(ultimateEffect, transform.position, transform.rotation);
        // Destroy(ultimateeffect, 3f);
    }

    public void UltimateWaitEffect()
    {
        GameObject ultimateWaiteffect = Instantiate(ultimateWaitEffect, transform.position, ultimateWaitEffect.transform.rotation);
        Debug.Log("생성되었음");
        Destroy(ultimateWaiteffect, 6f);
    }

    void HitEffect()
    {
        GameObject hiteffect = Instantiate(hitEffect, BladeHitPos.transform.position, Quaternion.Euler(BladeHitPos.transform.position)); //이게 검 위치에서 생성 시킬거임. 
        Destroy(hiteffect, 1f);

    }

}


